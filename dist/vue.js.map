{"version":3,"file":"vue.js","sources":["../src/utils/utils.js","../src/instance/state.js","../src/instance/init.js","../src/instance/index.js"],"sourcesContent":["export function isFunction (value) {\r\n  return typeof value === 'function'\r\n}\r\n\r\nexport function isObject (value) {\r\n  return typeof value === 'object' && value !== null\r\n}\r\n\r\nexport const isArray = Array.isArray\r\n","import { isFunction } from '../utils'\r\nimport { observe } from '../observer'\r\n\r\nexport function initState (vm) {\r\n  const opts = vm.$options\r\n  if (opts.data) {\r\n    initData(vm, opts.data)\r\n  }\r\n}\r\n\r\nfunction proxyData (target, source, key) {\r\n  Object.defineProperty(target, key, {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get () {\r\n      return target[source][key]\r\n    },\r\n    set (newVal) {\r\n      target[source][key] = newVal\r\n    }\r\n  })\r\n}\r\n\r\nfunction initData (vm, data) {\r\n  // Vue中data类型只能是函数和对象，只有根组件是对象，其他都是返回函数的对象\r\n  data = vm._data = isFunction(data) ? data.call(vm) : data\r\n  observe(data)\r\n\r\n  // 把data里面的属性都代理到vm上\r\n  const keys = Object.keys(data)\r\n  for (let i = 0; i < keys.length; i++) {\r\n    proxyData(vm, '_data', keys[i])\r\n  }\r\n}\r\n","import { initState } from './state'\r\n\r\nexport function initMixin (Vue) {\r\n  Vue.prototype._init = function (options) {\r\n    const vm = this\r\n    vm.$options = options\r\n    initState(vm)\r\n  }\r\n}\r\n","import { initMixin } from './init'\r\n\r\nfunction Vue (options) {\r\n  this._init(options)\r\n}\r\n\r\ninitMixin(Vue)\r\n\r\nexport default Vue\r\n"],"names":["isFunction","value","initState","vm","opts","$options","data","initData","proxyData","target","source","key","Object","defineProperty","configurable","enumerable","get","set","newVal","_data","call","keys","i","length","initMixin","Vue","prototype","_init","options"],"mappings":";;;;;;EAAO,SAASA,UAAT,CAAqBC,KAArB,EAA4B;EACjC,SAAO,OAAOA,KAAP,KAAiB,UAAxB;EACD;;ECCM,SAASC,SAAT,CAAoBC,EAApB,EAAwB;EAC7B,MAAMC,IAAI,GAAGD,EAAE,CAACE,QAAhB;;EACA,MAAID,IAAI,CAACE,IAAT,EAAe;EACbC,IAAAA,QAAQ,CAACJ,EAAD,EAAKC,IAAI,CAACE,IAAV,CAAR;EACD;EACF;;EAED,SAASE,SAAT,CAAoBC,MAApB,EAA4BC,MAA5B,EAAoCC,GAApC,EAAyC;EACvCC,EAAAA,MAAM,CAACC,cAAP,CAAsBJ,MAAtB,EAA8BE,GAA9B,EAAmC;EACjCG,IAAAA,YAAY,EAAE,IADmB;EAEjCC,IAAAA,UAAU,EAAE,IAFqB;EAGjCC,IAAAA,GAHiC,iBAG1B;EACL,aAAOP,MAAM,CAACC,MAAD,CAAN,CAAeC,GAAf,CAAP;EACD,KALgC;EAMjCM,IAAAA,GANiC,eAM5BC,MAN4B,EAMpB;EACXT,MAAAA,MAAM,CAACC,MAAD,CAAN,CAAeC,GAAf,IAAsBO,MAAtB;EACD;EARgC,GAAnC;EAUD;;EAED,SAASX,QAAT,CAAmBJ,EAAnB,EAAuBG,IAAvB,EAA6B;EAC3B;EACAA,EAAAA,IAAI,GAAGH,EAAE,CAACgB,KAAH,GAAWnB,UAAU,CAACM,IAAD,CAAV,GAAmBA,IAAI,CAACc,IAAL,CAAUjB,EAAV,CAAnB,GAAmCG,IAArD;;EAIA,MAAMe,IAAI,GAAGT,MAAM,CAACS,IAAP,CAAYf,IAAZ,CAAb;;EACA,OAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,IAAI,CAACE,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;EACpCd,IAAAA,SAAS,CAACL,EAAD,EAAK,OAAL,EAAckB,IAAI,CAACC,CAAD,CAAlB,CAAT;EACD;EACF;;EC/BM,SAASE,SAAT,CAAoBC,GAApB,EAAyB;EAC9BA,EAAAA,GAAG,CAACC,SAAJ,CAAcC,KAAd,GAAsB,UAAUC,OAAV,EAAmB;EACvC,QAAMzB,EAAE,GAAG,IAAX;EACAA,IAAAA,EAAE,CAACE,QAAH,GAAcuB,OAAd;EACA1B,IAAAA,SAAS,CAACC,EAAD,CAAT;EACD,GAJD;EAKD;;ECND,SAASsB,GAAT,CAAcG,OAAd,EAAuB;EACrB,OAAKD,KAAL,CAAWC,OAAX;EACD;;EAEDJ,SAAS,CAACC,GAAD,CAAT;;;;;;;;"}